# =====================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# AdabKita - Platform Pembelajaran Adab Islami
# =====================================================
#
# INSTRUKSI:
# 1. Copy file ini ke .env di server production
# 2. Edit semua nilai yang ditandai dengan [EDIT INI]
# 3. Jalankan: php artisan key:generate
# 4. JANGAN upload file ini ke Git!
# =====================================================

# =====================================================
# APPLICATION SETTINGS
# =====================================================
APP_NAME="AdabKita"
APP_ENV=production
APP_KEY=                                    # [EDIT INI] Akan di-generate otomatis dengan: php artisan key:generate
APP_DEBUG=false                              # WAJIB false untuk production (keamanan)
APP_TIMEZONE=Asia/Jakarta                    # Timezone Indonesia
APP_URL=https://adabkita.gaspul.com          # [EDIT INI] Ganti dengan domain production Anda

APP_LOCALE=id                                # Bahasa Indonesia
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=id_ID

APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

BCRYPT_ROUNDS=12                             # Tingkat enkripsi password

# =====================================================
# LOGGING CONFIGURATION
# =====================================================
LOG_CHANNEL=daily                            # Rotate log per hari
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error                              # Production: hanya log error (tidak debug)
LOG_DAILY_DAYS=14                            # Simpan log 14 hari

# =====================================================
# DATABASE CONFIGURATION (MySQL/MariaDB)
# =====================================================
DB_CONNECTION=mysql
DB_HOST=127.0.0.1                            # [EDIT INI] IP database server (127.0.0.1 jika di server yang sama)
DB_PORT=3306
DB_DATABASE=adabkita_production              # [EDIT INI] Nama database production
DB_USERNAME=adabkita_user                    # [EDIT INI] Username database (JANGAN gunakan 'root')
DB_PASSWORD=                                 # [EDIT INI] Password KUAT minimal 16 karakter (contoh: aD@bK1t@Pr0d2025!Secure)

# Database options untuk performance
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci
DB_PREFIX=
DB_STRICT_MODE=true

# =====================================================
# SESSION CONFIGURATION
# =====================================================
SESSION_DRIVER=database                      # Gunakan database untuk multi-server setup
SESSION_LIFETIME=120                         # Session timeout 2 jam
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=.adabkita.gaspul.com          # [EDIT INI] Domain Anda (dengan titik di depan untuk subdomain)
SESSION_SECURE_COOKIE=true                   # WAJIB true jika sudah HTTPS
SESSION_HTTP_ONLY=true                       # Security: cookie tidak bisa diakses via JavaScript
SESSION_SAME_SITE=lax                        # CSRF protection

# =====================================================
# CACHE CONFIGURATION
# =====================================================
CACHE_DRIVER=database                        # Atau 'redis' untuk performance lebih baik
CACHE_PREFIX=adabkita_cache
CACHE_STORE=database

# =====================================================
# QUEUE CONFIGURATION
# =====================================================
QUEUE_CONNECTION=database                    # Atau 'redis' untuk performance lebih baik

# =====================================================
# FILESYSTEM CONFIGURATION
# =====================================================
FILESYSTEM_DISK=local                        # Atau 's3' jika gunakan Amazon S3
FILESYSTEM_DRIVER=local

# =====================================================
# BROADCAST CONFIGURATION
# =====================================================
BROADCAST_CONNECTION=log                     # Atau 'pusher' jika gunakan real-time features

# =====================================================
# REDIS CONFIGURATION (Optional - untuk performance)
# =====================================================
# Aktifkan jika ingin menggunakan Redis untuk cache/queue
# REDIS_CLIENT=phpredis
# REDIS_HOST=127.0.0.1                       # [EDIT INI] IP Redis server
# REDIS_PASSWORD=                            # [EDIT INI] Redis password (jika ada)
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_CACHE_DB=1
# REDIS_PREFIX=adabkita_

# =====================================================
# MAIL CONFIGURATION
# =====================================================
MAIL_MAILER=smtp                             # [EDIT INI] smtp, sendmail, mailgun, dll
MAIL_HOST=smtp.gmail.com                     # [EDIT INI] SMTP server host
MAIL_PORT=587                                # [EDIT INI] Port (587 untuk TLS, 465 untuk SSL)
MAIL_USERNAME=                               # [EDIT INI] Email address untuk mengirim
MAIL_PASSWORD=                               # [EDIT INI] Password email atau App Password
MAIL_ENCRYPTION=tls                          # tls atau ssl
MAIL_FROM_ADDRESS=noreply@adabkita.gaspul.com  # [EDIT INI] Email pengirim
MAIL_FROM_NAME="${APP_NAME}"

# =====================================================
# AWS S3 CONFIGURATION (Optional - untuk file storage)
# =====================================================
# AWS_ACCESS_KEY_ID=                         # [EDIT INI] Jika gunakan S3
# AWS_SECRET_ACCESS_KEY=                     # [EDIT INI] Jika gunakan S3
# AWS_DEFAULT_REGION=ap-southeast-1          # Region Asia Pacific (Singapore)
# AWS_BUCKET=adabkita-storage                # [EDIT INI] Nama S3 bucket
# AWS_USE_PATH_STYLE_ENDPOINT=false

# =====================================================
# PUSHER CONFIGURATION (Optional - untuk real-time)
# =====================================================
# PUSHER_APP_ID=                             # [EDIT INI] Jika gunakan Pusher
# PUSHER_APP_KEY=                            # [EDIT INI] Jika gunakan Pusher
# PUSHER_APP_SECRET=                         # [EDIT INI] Jika gunakan Pusher
# PUSHER_HOST=
# PUSHER_PORT=443
# PUSHER_SCHEME=https
# PUSHER_APP_CLUSTER=ap1                     # Asia Pacific cluster

# =====================================================
# VITE CONFIGURATION (untuk frontend assets)
# =====================================================
VITE_APP_NAME="${APP_NAME}"
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# =====================================================
# SECURITY SETTINGS
# =====================================================
# Rate limiting untuk login (mencegah brute force)
LOGIN_MAX_ATTEMPTS=5
LOGIN_DECAY_MINUTES=15

# CORS Settings (jika ada API external)
CORS_ALLOWED_ORIGINS=https://adabkita.gaspul.com  # [EDIT INI] Domain yang diizinkan

# =====================================================
# DOMPDF CONFIGURATION (untuk sertifikat PDF)
# =====================================================
DOMPDF_ENABLE_REMOTE=true                    # Allow loading remote images
DOMPDF_ENABLE_HTML5_PARSER=true
DOMPDF_DEFAULT_PAPER_SIZE=a4
DOMPDF_DEFAULT_FONT=Arial

# =====================================================
# CUSTOM APP SETTINGS (AdabKita Specific)
# =====================================================
# Minimum nilai untuk dapat sertifikat
MIN_CERTIFICATE_SCORE=80

# Upload file limits (dalam bytes)
MAX_FILE_UPLOAD_SIZE=10485760                # 10MB
ALLOWED_FILE_TYPES=pdf,doc,docx,ppt,pptx,jpg,jpeg,png

# =====================================================
# MONITORING & ERROR TRACKING (Optional)
# =====================================================
# Sentry for error tracking (https://sentry.io)
# SENTRY_LARAVEL_DSN=                        # [EDIT INI] Jika gunakan Sentry
# SENTRY_TRACES_SAMPLE_RATE=0.1

# Google Analytics
# GOOGLE_ANALYTICS_ID=                       # [EDIT INI] GA tracking ID

# =====================================================
# BACKUP SETTINGS (Optional)
# =====================================================
BACKUP_ENABLED=true
BACKUP_PATH=/backup/adabkita                 # [EDIT INI] Path untuk menyimpan backup
BACKUP_KEEP_DAYS=30                          # Simpan backup 30 hari

# =====================================================
# NOTES & REMINDERS
# =====================================================
# 1. Setelah copy file ini ke .env, jalankan:
#    php artisan key:generate
#
# 2. Test database connection:
#    php artisan migrate:status
#
# 3. Clear dan rebuild cache:
#    php artisan config:cache
#    php artisan route:cache
#    php artisan view:cache
#
# 4. Set file permissions:
#    chmod -R 775 storage bootstrap/cache
#
# 5. JANGAN share file ini atau upload ke Git!
#    File .env sudah ada di .gitignore
#
# 6. Untuk keamanan maksimal:
#    - Gunakan password database yang kuat (min 16 karakter)
#    - Aktifkan SSL/HTTPS
#    - Setup firewall
#    - Regular backup database
#
# 7. Monitor aplikasi:
#    - Check logs: tail -f storage/logs/laravel.log
#    - Monitor disk space
#    - Monitor database size
#
# =====================================================
# LAST UPDATED: 2025-10-26
# VERSION: 1.0
# =====================================================
